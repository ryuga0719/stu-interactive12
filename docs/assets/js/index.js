var u=Object.defineProperty,g=(o,e,t)=>e in o?u(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,f=(o,e,t)=>(g(o,typeof e!="symbol"?e+"":e,t),t);import{m as c}from"./vendor/vendor-3d9c16f2.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerpolicy&&(n.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?n.credentials="include":i.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(i){if(i.ep)return;i.ep=!0;const n=t(i);fetch(i.href,n)}})();const O="";let m=[{favorite:120,notification:978,retweet:2103,comments:21,tag:5434,isOpen:!1},{favorite:120,notification:978,retweet:2103,comments:21,tag:5434,isOpen:!1},{favorite:120,notification:978,retweet:2103,comments:21,tag:5434,isOpen:!1},{favorite:120,notification:978,retweet:2103,comments:21,tag:5434,isOpen:!1},{favorite:120,notification:978,retweet:2103,comments:21,tag:5434,isOpen:!1},{favorite:120,notification:978,retweet:2103,comments:21,tag:5434,isOpen:!1},{favorite:120,notification:978,retweet:2103,comments:21,tag:5434,isOpen:!1},{favorite:120,notification:978,retweet:2103,comments:21,tag:5434,isOpen:!1}];class a{constructor(){f(this,"animTiming",{duration:300,easing:"ease-out"}),f(this,"closingAnimKeyframes",e=>[{height:e.offsetHeight+"px",opacity:1},{height:0,opacity:0}]),f(this,"openingAnimKeyframes",e=>[{height:0,opacity:0},{height:e.offsetHeight+"px",opacity:1}])}static createClosingAnimation(e){return e.animate(new a().closingAnimKeyframes(e),new a().animTiming)}static createOpeningAnimation(e){return e.animate(new a().openingAnimKeyframes(e),new a().animTiming)}}class s{constructor(){}static updateLocalStorageState(e,t){localStorage.setItem(`item_${e}_isOpen`,JSON.stringify(t))}static setAccordionState(e){localStorage.setItem("accordionState",JSON.stringify(e))}static checkStoredData(e){const t=localStorage.getItem("accordionState");if(!t)return;JSON.parse(t).forEach((i,n)=>{e[n].isOpen=i.isOpen})}static clearLocalStorage(){localStorage.clear(),alert("正常にLocalStorageをクリアしました。")}}const d=()=>((()=>{s.checkStoredData(m),window.addEventListener("beforeunload",()=>{s.setAccordionState(m)})})(),{items:m,reactiveVal:c.reactive({running:!1}),closeAccordion(e,t){const r=a.createClosingAnimation(t);this.reactiveVal.running=!0,r.onfinish=()=>{this.reactiveVal.running=!1,this.items[e].isOpen=!1,s.updateLocalStorageState(e,this.items[e].isOpen)}},openAccordion(e,t){this.items[e].isOpen=!0,s.updateLocalStorageState(e,this.items[e].isOpen);const r=a.createOpeningAnimation(t);this.reactiveVal.running=!0,r.onfinish=()=>{this.reactiveVal.running=!1}},toggleItem(e,t){if(!this.reactiveVal.running)return this.items[e].isOpen?this.closeAccordion(e,t):this.openAccordion(e,t)}}),p=()=>({clear(){s.clearLocalStorage()}});document.addEventListener("alpine:init",()=>{c.data("accordion",d),c.data("clearButton",p)}),document.addEventListener("DOMContentLoaded",()=>{c.start()});
